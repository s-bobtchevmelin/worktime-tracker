<template>
  <div class="mb-10">
    <form @submit.prevent="add" class="flex items-center mt-3">
      <span>Le</span>
      <InputSelect v-model="day" :options="days" class="mx-3" dense></InputSelect>

      <span>De</span>
      <InputDefault v-model="startInput" type="time" class="mx-3" dense />
      <span>Ã </span>
      <InputDefault v-model="endInput" type="time" class="mx-3" dense />
      
      <SecondaryButton type="submit">Ajouter</SecondaryButton>
    </form>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import { useGlobalStore } from '@/Stores/global-store';
import { router } from '@inertiajs/vue3'

import SecondaryButton from '../SecondaryButton.vue';
import InputDefault from '../InputDefault.vue';
import InputSelect from '../InputSelect.vue';

const props = defineProps(['days'])
const globalStore = useGlobalStore()

const day = ref(null)
const startInput = ref(null);
const endInput = ref(null);

const add = async () => {
  if(!startInput.value || !endInput.value) return;
  
  globalStore.addTimesForADay(day.value, [startInput.value, endInput.value])
  //Inertia.post('/')

  startInput.value = null
  endInput.value = null
};
</script>